<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>手写promise 测试</title>
  <!-- <script src="./promise.js"></script> -->
</head>
<body>
  
</body>
<script>
  // let p = new Promise((resolve,reject)=>{
  //   // 1 同步
  //   // resolve('ok 1')
  //   // reject('err 1')
  //   throw 'throw Error' //会被then的第二个函数处理
  //   // 2 异步
  //   setTimeout(function(){
  //     resolve('async resolve')
  //     // reject('async reject')
  //     // throw 'throw Error'
  //   },1000)
  // })
  // console.log('p ',p)
  // p.then(value=>{
  //   console.log(value)
  // },err=>{
  //   console.log(err)
  // })

  // 3 p.then多次调用
  // p.then(value=>{
  //   console.log(value)
  // },err=>{
  //   console.log(err)
  // })

  // 4 then返回值
  // let thenResult = p.then(value=>{
  //   console.log(value)
  // },err=>{
  //   console.log(err)
  // })
  // console.log('thenResult ',thenResult)

  // 5 链式调用
  // p.then(value=>{
  //   console.log('5 value ',value)
  //   return 555
  // },err=>{
  //   console.warn('5 err ',err)
  //   return new Promise((resolve,reject)=>{
  //     // resolve('9999')
  //     // reject(8888)
  //     throw 7777
  //   })
  // }).then(v=>{
  //   console.log(51,v)
  //   return 444
  // },e=>{
  //   console.warn(52,e)
  //   return 555
  // })

  // 6 catch 
  // p.catch(err=>{
  //   console.log('catch ',err)
  // })

  // 7 异常穿透 如果then中有reject处理且不发生异常 则catch不执行
  // p.then()
  // .then(v=>{
  //   console.log('v ',v)
  // },
  // // e=>{
  // //   console.log('e ', r.r.e)
  // // }
  // )
  // .catch(err=>{
  //   console.log('catch ',err)
  // })

  // 7 Promise.all 
  // let p1 = new Promise((resolve,reject)=>{
  //   setTimeout(function(){
  //     resolve(111)
  //   },1000)
  // })
  // let p2 = new Promise((resolve,reject)=>{
  //   resolve(222)
  //   // reject('reject')
  // })
  // let p3 = new Promise((resolve,reject)=>{
  //   resolve(333)
  // })
  // let arr = Promise.all([p1,p2,p3])
  // console.log('arr ',arr)

  


</script>
</html>